<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC
    "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
    "http://struts.apache.org/dtds/struts-2.0.dtd">

<struts>
<!-- 
    <constant name="struts.enable.DynamicMethodInvocation" value="false" />
    <constant name="struts.devMode" value="false" />

    <include file="example.xml"/>



    <package name="default" namespace="/" extends="struts-default">
        <default-action-ref name="index" />
        <action name="index">
            <result type="redirectAction">
                <param name="actionName">HelloWorld</param>
                <param name="namespace">/example</param>
            </result>
        </action>
    </package>
 -->
    <!-- Add packages here -->

<!-- 
    <package name="default" namespace="/" extends="struts-default">
        <action name="index">
            <result >
               /jsp/hello.jsp
            </result>
        </action>
    </package>
 -->
 
 <!-- 
    <package name="default" namespace="/" extends="struts-default">
        <action name="testAction*" method="{1}" class="socialUp.action.test.actionTest" >
            <result name="SUCCESS">/jsp/hello{1}.jsp</result>
        </action>
        
        <action name="testAction2"  class="socialUp.action.test.actionTest" >
            <result >/jsp/hello.jsp</result>
        </action>
        
    </package>
 -->
 
<!-- 로그인 check를 위한 인터셉터 설정 -->
<package name="commonInterceptor" extends="struts-default" namespace="">	
		<interceptors>
			<interceptor name="loginCheck" class="socialUp.common.LoginSessionCheckInterceptor"/>
			<interceptor name="debugging" class="org.apache.struts2.interceptor.debugging.DebuggingInterceptor" />
			<interceptor name="logger" class="com.opensymphony.xwork2.interceptor.LoggingInterceptor"/>
			
			<interceptor-stack name="commonStack">
							<interceptor-ref name="loginCheck">
			                	<param name="excludeActions">
			                		/index.action
			                		,/member/memberRegForm.action		<!-- 회원가입 -->
			                		,/member/memberMemLogIn.action		<!-- 심플로그인 -->
			                	</param>
			                	<param name="redirectWebPage">/jsp/member/loginMain.jsp</param>
			                </interceptor-ref>
			                
			                <interceptor-ref name="debugging"/>
			                <interceptor-ref name="logger"/>

<!-- 
			                <interceptor-ref name="exception"/>
			                <interceptor-ref name="alias"/>
			                <interceptor-ref name="servletConfig"/>
			                <interceptor-ref name="prepare"/>
			                <interceptor-ref name="i18n"/>
			                <interceptor-ref name="chain"/>
			                <interceptor-ref name="debugging"/>
			                <interceptor-ref name="fileUpload"/>
			                <interceptor-ref name="checkbox"/>
			                <interceptor-ref name="staticParams"/>
			                <interceptor-ref name="params">
			                  <param name="excludeParams">dojo\..*</param>
			                </interceptor-ref>
			                <interceptor-ref name="conversionError"/>
			                <interceptor-ref name="validation">
			                    <param name="excludeMethods">input,back,cancel,browse</param>
			                </interceptor-ref>
 -->
			</interceptor-stack>
		</interceptors>
		<default-interceptor-ref name="commonStack"/>
	
</package>


  
 <package namespace="/" name="default"  extends="struts-default">
        <action name="index"  class="socialUp.action.main.DefaultAction" >
             <result name="SUCCESS">/jsp/index.jsp</result>
        </action>
        
        <action name=""  class="socialUp.action.main.DefaultAction" >
             <result name="SUCCESS">/jsp/index.jsp</result>
        </action>
  </package>


<include file="structs2/StrutsMember.xml"/>
<include file="structs2/StrutsContent.xml"/>
<include file="structs2/StrutsSearch.xml"/>
  
    
  
</struts>
